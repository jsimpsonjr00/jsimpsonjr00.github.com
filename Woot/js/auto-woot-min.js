(function(a){var f=a(document);f.ready(function(){var g=a("#woot-detail-view"),h=null,e=a("#theme-detail-tmpl"),i=a("#item-detail-tmpl");f.on("newWootData",function(f,c){var d,j;for(j in c)d=a("#"+j+"-item-detail"),d.length===0?(d=e.applyTemplate(c[j]),g.append(d)):d.empty().html(i.applyTemplate(c[j].item))});f.on("activateDetail",function(e,c){var d=a(c);c!==void 0&&(h&&h.removeClass("active"),h=a("#"+d.attr("data-theme")+"-item-detail").addClass("active"),g.addClass("active"))});g.on("click",function(){g.removeClass("active")});
g.on("click","a",function(a){a.stopPropagation()})})})(jQuery);
(function(a){var f=a(document);f.ready(function(){var g=a("#woot-thumb-view"),h=a("#theme-thumb-tmpl"),e=a("#item-thumb-tmpl"),i=0;f.on("newWootData",function(f,c){var d,j;for(j in c)if(d=a("#"+j+"-item-thumb"),d.length===0){for(var b=d=h.applyTemplate(c[j]),m=++i,l=1;l<=6;l++)m!=0&&m%l===0&&b.addClass("_"+l);g.append(d)}else d.empty().html(e.applyTemplate(c[j].item))});g.on("click","[id$=-thumb]",function(){a(this);f.trigger("activateDetail",[this])})})})(jQuery);
(function(a){function f(a){for(var a=a.value.items,b={},d={},e=false,f=0;f<a.length;f++)if(b=a[f],k[b.ThemeName]===void 0||k[b.ThemeName].SaleUrl!==b.SaleUrl||k[b.ThemeName].SoldOutPercentage!==b.SoldOutPercentage)b.PercentAvailable=b.SoldOutPercentage<=1?100-b.SoldOutPercentage*100:100-b.SoldOutPercentage,b.WootOff==true&&(e=true),b={ThemeName:b.ThemeName,item:b},d[b.ThemeName]=b,k[b.ThemeName]=b;c=e;g();return d}function g(a){var b=3E4;a!==true&&(b=c?6E4:6E5);window.clearTimeout(i);i=window.setTimeout(function(){e.trigger("modelNew",
[])},b);e.trigger("autoRefreshScheduled",[b])}function h(){var c={success:function(a){e.trigger("newWootData",[f(a)])}},c=a.extend(true,d,c);a.ajax(c)}var e=a(document),i=null,k={},c=false,d={type:"GET",dataType:"jsonp",url:"http://pipes.yahoo.com/pipes/pipe.run",jsonp:"_callback",data:{_id:"22de465a94e4410f27763dfbfe4d82e1",_render:"json"},success:function(a){e.trigger("newWootData",[f(a)])},error:function(){g(true)},timeout:1E4};e.on("wootActive",function(){e.off("modelNew");e.on("modelNew",h);
a.ajax(d)})})(jQuery);(function(a){var f=a(document);f.ready(function(){function g(){var a=Math.floor(e/60),c=e%60,d="",d=e>0?a+":"+(c<10?"0"+c:c):"Now";h.html(d);window.clearTimeout(i);i=window.setTimeout(g,1E3);e-=1}var h=a("#woot-status-time"),e=0,i=null;f.on("autoRefreshScheduled",function(a,c){e=c/1E3;g()})})})(jQuery);
